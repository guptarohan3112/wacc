image: openjdk:11

stages:
    - build
    - test

build:
    stage: build
    script:
        - rm -rf rules bin src/main/resources/antlr
        - cd antlr_config && ./antlrBuild
        - find src/main/resources/ -name '*.java' > out.txt
        - mkdir bin
        - java javac @out.txt
        - ./gradlew build

test:
    script:
        - echo "This should print Hello World for now"
        - ./gradlew run
